.d-flex
  .w-50
    %h4 All Homeless Individuals
    .jQuarterChosenDate
    .state-map#all-homeless-map
  .w-50
    .state-map#comparison-map

- # include the map class directly
= render 'map_js'


:javascript
  (function() {
    const shapes = #{@report.map_shapes.to_json.html_safe}
    const homeless_data = #{data['homeless_map'].to_json.html_safe}
    const comparison_data = #{data['youth_homeless_map'].to_json.html_safe}
    const homeless_map = new CocMap({
      elementId: "all-homeless-map",
      shapes: shapes,
      colors: #{@report.chart_color_pattern(:population)},
    })
    const comparison_map = new CocMap({
      elementId: "comparison-map",
      shapes: shapes,
      colors: #{@report.chart_color_pattern(:population)},
    })

    $('.jQuarters').on('change', function(e) {
      var index = $(this).val();
      var selected_date = $(this).data('dates')[index];
      console.log(homeless_data, selected_date, homeless_data[selected_date])
      console.log(comparison_data, selected_date, comparison_data[selected_date])
    });
    // homeless_map.updateMetrics()

    $('.jQuarters').trigger('change');
  }).call(this);
=# debug data
